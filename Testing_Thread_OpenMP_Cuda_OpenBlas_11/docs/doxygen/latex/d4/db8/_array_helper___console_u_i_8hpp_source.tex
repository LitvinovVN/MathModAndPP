\doxysection{Array\+Helper\+\_\+\+Console\+UI.\+hpp}
\hypertarget{_array_helper___console_u_i_8hpp_source}{}\label{_array_helper___console_u_i_8hpp_source}\index{HCSLib/Arrays/ArrayHelper\_ConsoleUI.hpp@{HCSLib/Arrays/ArrayHelper\_ConsoleUI.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <chrono>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}../CommonHelpers/ConsoleHelper.hpp"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}../Cuda/CudaHelper.hpp"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}ArrayHelper.hpp"{}}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_array_helper___console_u_i}{ArrayHelper\_ConsoleUI}}}
\DoxyCodeLine{00012\ \{}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_a38ab83154ea3ee2401cd8d64d6fea0f2}{CreateArrayRamPinned\_ConsoleUI}}()}
\DoxyCodeLine{00015\ \ \ \ \ \{}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}CreateArrayRamPinned\_ConsoleUI\(\backslash\)n"{}};}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!\mbox{\hyperlink{struct_cuda_helper_acfb993fd6f2458328efdd246feedcccd}{CudaHelper::IsCudaSupported}}())}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Cuda\ not\ supported!"{}}\ <<\ std::endl;}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ \ =\ ConsoleHelper::GetUnsignedLongLongFromUser(\textcolor{stringliteral}{"{}Enter\ array\ length:\ "{}});}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ arrPinned\ =\ \mbox{\hyperlink{struct_array_helper_a8a7128790f8c9645bda68410d620cbcc}{ArrayHelper::CreateArrayRamPinned<double>}}(length);}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!arrPinned)}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Pinned\ RAM\ memory\ not\ allocated!"{}}\ <<\ std::endl;}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ arrPinned[0]\ =\ 0.1;}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}arrPinned[0]\ =\ 0.1;\(\backslash\)n"{}};}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}arrPinned[0]\ =\ "{}}\ <<\ arrPinned[0]\ <<\textcolor{stringliteral}{"{};\(\backslash\)n"{}};}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ ArrayHelper::DeleteArrayRamPinned(arrPinned);}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Pinned\ RAM\ memory\ cleared!\(\backslash\)n"{}};}
\DoxyCodeLine{00037\ \ \ \ \ \}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_a2ecf8328a6cb13a347ae45b418900f93}{CopyRamToGpu\_ConsoleUI}}()}
\DoxyCodeLine{00041\ \ \ \ \ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}CopyRamToGpu\_ConsoleUI\(\backslash\)n"{}};}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ cudaDeviceNumber\ =\ \mbox{\hyperlink{struct_cuda_helper_a98c75205f07b42f7b7b31737bf2861ac}{CudaHelper::GetCudaDeviceNumber}}();\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}cudaDeviceNumber:\ "{}}\ <<\ cudaDeviceNumber\ <<\ std::endl;}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ \ =\ ConsoleHelper::GetUnsignedLongLongFromUser(\textcolor{stringliteral}{"{}Enter\ array\ length:\ "{}});}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//double\ value\ \ \ =\ ConsoleHelper::GetDoubleFromUser("{}Enter\ value:\ "{},"{}Error!\ Enter\ double\ value"{});}}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\ \ \ =\ 0;}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ memoryType\ =\ \mbox{\hyperlink{struct_console_helper_ad4d7a6a912f549731285cfb01209f7b1}{ConsoleHelper::GetIntFromUser}}(\textcolor{stringliteral}{"{}Enter\ type\ of\ ram\ alloc\ (1-\/paged;\ 2-\/pinned):\ "{}});}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Инициализируем\ массив\ в\ RAM}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ arrayRam\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(memoryType\ ==\ 1)}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ arrayRam\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{double}[length];}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (memoryType\ ==\ 2)}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ arrayRam\ =\ \mbox{\hyperlink{struct_array_helper_a8a7128790f8c9645bda68410d620cbcc}{ArrayHelper::CreateArrayRamPinned<double>}}(length);}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}type\ of\ ram\ alloc\ not\ recognized:\ "{}}\ <<\ memoryType\ <<\ std::endl;}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ length;\ i++)}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ arrayRam[i]\ =\ value+0.1*i;}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}arrayRam[0]:\ "{}}\ <<\ arrayRam[0]\ <<\ std::endl;}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}arrayRam[length-\/1]:\ "{}}\ <<\ arrayRam[length-\/1]\ <<\ std::endl;}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ cudaDeviceNumber;\ i++)}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/\ Starting\ work\ with\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ \ -\/-\/-\/\(\backslash\)n"{}};}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Creating\ array\ on\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}...\ "{}};}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ arrayGpu\ =\ \mbox{\hyperlink{struct_array_helper_a9c803d53ead4a35b5fe1708880a2bb58}{ArrayHelper::CreateArrayGpu<double>}}(length,\ i);}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}OK\(\backslash\)n"{}};}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/\ Copy\ to\ GPU"{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ starting...\(\backslash\)n"{}};\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::CopyRamToGpu(arrayRam,\ arrayGpu,\ 0,\ length,\ i);}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ stop\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ duration\ =\ duration\_cast<microseconds>(stop\ -\/\ start);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ duration.count();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Time,\ mks:\ "{}}\ <<\ t\ <<\ std::endl;}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Ram:\ "{}};}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(length>20)}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayRam(arrayRam,\ 0,\ 20);}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayRam(arrayRam,\ 0,\ length);}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}:\ "{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(length>20)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(arrayGpu,\ 0,\ 20,\ i);}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(arrayGpu,\ 0,\ length,\ i);}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//arrayRam[length-\/1]+=0.00001;}}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ isEquals\ =\ \mbox{\hyperlink{struct_array_helper_a8e532ff8fdc6b7ff64431de23772c66a}{ArrayHelper::IsEqualsRamGpu}}(arrayRam,\ arrayGpu,\ length);}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isEquals)}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Success!\ Arrays\ are\ equals!\(\backslash\)n"{}};}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Error!\ Arrays\ are\ not\ equals!\(\backslash\)n"{}};}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\(\backslash\)n"{}};}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_array_helper_a2f219e8f2f35ddb44b675ba637caba75}{ArrayHelper::DeleteArrayGpu}}(arrayGpu,\ i);}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(memoryType\ ==\ 1)}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ arrayRam;}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (memoryType\ ==\ 2)}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::DeleteArrayRamPinned(arrayRam);}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ e.what()\ <<\ std::endl;\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00123\ \ \ \ \ \}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_a273cd381007fae97f2cf97bc6e9ecca3}{CopyGpuToRam\_ConsoleUI}}()}
\DoxyCodeLine{00127\ \ \ \ \ \{}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}CopyGpuToRam\_ConsoleUI\(\backslash\)n"{}};}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ cudaDeviceNumber\ =\ \mbox{\hyperlink{struct_cuda_helper_a98c75205f07b42f7b7b31737bf2861ac}{CudaHelper::GetCudaDeviceNumber}}();\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}cudaDeviceNumber:\ "{}}\ <<\ cudaDeviceNumber\ <<\ std::endl;}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ \ \ \ =\ ConsoleHelper::GetUnsignedLongLongFromUser(\textcolor{stringliteral}{"{}Enter\ array\ size:\ "{}});}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\ \ \ =\ ConsoleHelper::GetDoubleFromUser(\textcolor{stringliteral}{"{}Enter\ value:\ "{}},\textcolor{stringliteral}{"{}Error!\ Enter\ double\ value"{}});}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Инициализируем\ массив\ в\ RAM}}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ arrayRam\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{double}[size];}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ size;\ i++)}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ arrayRam[i]\ =\ value;}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//std::cout\ <<\ "{}arrayRam[0]:\ "{}\ <<\ arrayRam[0]\ <<\ std::endl;}}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//std::cout\ <<\ "{}arrayRam[size-\/1]:\ "{}\ <<\ arrayRam[size-\/1]\ <<\ std::endl;}}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ cudaDeviceNumber;\ i++)}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/\ Starting\ work\ with\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ \ -\/-\/-\/\(\backslash\)n"{}};}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Creating\ array\ on\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}...\ "{}};}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ dev\_array\ =\ \mbox{\hyperlink{struct_array_helper_a9c803d53ead4a35b5fe1708880a2bb58}{ArrayHelper::CreateArrayGpu<double>}}(size,\ i);}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}OK\(\backslash\)n"{}};}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Copy\ from\ RAM\ to\ GPU"{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ starting..."{}};}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::CopyRamToGpu(arrayRam,\ dev\_array,\ 0,\ size,\ i);}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ stop\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}OK\(\backslash\)n"{}};}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ duration\ =\ duration\_cast<microseconds>(stop\ -\/\ start);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ duration.count();}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Time,\ mks:\ "{}}\ <<\ t\ <<\ std::endl;}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Copy\ from\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ to\ Ram\ starting..."{}};}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ arrayRamTmp\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{double}[size];}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::CopyGpuToRam(dev\_array,\ arrayRamTmp,\ 0,\ size,\ i);}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ stop\ =\ high\_resolution\_clock::now();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}OK\(\backslash\)n"{}};}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ duration\ =\ duration\_cast<microseconds>(stop\ -\/\ start);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ duration.count();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Time,\ mks:\ "{}}\ <<\ t\ <<\ std::endl;}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Ram:\ "{}};}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(size>20)}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayRam(arrayRam,\ 0,\ 20);}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayRam(arrayRam,\ 0,\ size);}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}:\ "{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(size>20)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(dev\_array,\ 0,\ 20,\ i);}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(dev\_array,\ 0,\ size,\ i);}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Ram\ copied:\ "{}};}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(size>20)}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayRam(arrayRamTmp,\ 0,\ 20);}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayRam(arrayRamTmp,\ 0,\ size);}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ isEquals\ =\ ArrayHelper::IsEqualsRamRam(arrayRam,\ arrayRamTmp,\ size);}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(isEquals)}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Checking\ equals:\ OK\(\backslash\)n"{}};}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Checking\ equals:\ FALSE\(\backslash\)n"{}};}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ arrayRamTmp;}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\(\backslash\)n"{}};}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ arrayRam;}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ e.what()\ <<\ std::endl;\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00214\ \ \ \ \ \}}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_abc50275be06fe2563ba0905e9d795e25}{SumOpenMP\_ConsoleUI}}()}
\DoxyCodeLine{00218\ \ \ \ \ \{}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Вызов\ функции\ суммирования\ с\ помощью\ OpenMP}}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ \ =\ ConsoleHelper::GetUnsignedLongLongFromUser(\textcolor{stringliteral}{"{}Enter\ array\ size:\ "{}});}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\ =\ ConsoleHelper::GetDoubleFromUser(\textcolor{stringliteral}{"{}Enter\ value:\ "{}},\textcolor{stringliteral}{"{}Error!\ Enter\ double\ value"{}});}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ Nthreads\ =\ \mbox{\hyperlink{struct_console_helper_ad4d7a6a912f549731285cfb01209f7b1}{ConsoleHelper::GetIntFromUser}}(\textcolor{stringliteral}{"{}Enter\ num\ threads:\ "{}});}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ data\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{double}[size];}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ size;\ i++)}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[i]\ =\ value;}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ sum\ =\ ArrayHelper::SumOpenMP(data,\ 0,\ size,\ Nthreads);}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ stop\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ duration\ =\ duration\_cast<microseconds>(stop\ -\/\ start);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ duration.count();}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ArrayRamHelper::SumOpenMP(data,\ 0,\ size,\ Nthreads):\ "{}}\ <<\ sum\ <<\ std::endl;}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Expected\ sum:\ "{}}\ <<\ size*value\ <<\ std::endl;}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Time,\ mks:\ "{}}\ <<\ t\ <<\ std::endl;}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ e.what()\ <<\ std::endl;\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00247\ \ \ \ \ \}}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_a2b7c4d13f1d5cd195b6af9585a080354}{SumCudaMultiGpu\_ConsoleUI}}()}
\DoxyCodeLine{00251\ \ \ \ \ \{}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}SumCudaMultiGpu(std::vector<ArrayGpuProcessingParams<T>>\ params)\(\backslash\)n"{}};}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Вызов\ функции\ суммирования\ с\ помощью\ Cuda\ на\ нескольких\ GPU}}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ cudaDeviceNumber\ =\ \mbox{\hyperlink{struct_cuda_helper_a98c75205f07b42f7b7b31737bf2861ac}{CudaHelper::GetCudaDeviceNumber}}();}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//cudaDeviceNumber\ =\ 1;}}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}cudaDeviceNumber:\ "{}}\ <<\ cudaDeviceNumber\ <<\ std::endl;}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ expectedResult\ =\ 0;}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<ArrayGpuProcessingParams<double>>\ params;}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ cudaDeviceNumber;\ i++)}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/\ Init\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ array\ starting...\(\backslash\)n"{}};}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//size\_t\ size\ \ \ \ =\ ConsoleHelper::GetUnsignedLongLongFromUser("{}Enter\ array\ size:\ "{});}}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//double\ value\ \ \ =\ ConsoleHelper::GetDoubleFromUser("{}Enter\ value:\ "{},"{}Error!\ Enter\ double\ value"{});}}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//int\ blocksNum\ \ =\ ConsoleHelper::GetIntFromUser("{}Enter\ num\ blocks:\ "{});}}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//int\ threadsNum\ =\ ConsoleHelper::GetIntFromUser("{}Enter\ num\ threads:\ "{});}}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ \ \ \ =\ 500000000ull;}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\ \ \ =\ 0.001;}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ blocksNum\ \ =\ 34;}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ threadsNum\ =\ 16;}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ expectedResult\ +=\ size*value;}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_array_gpu_processing_params}{ArrayGpuProcessingParams<double>}}\ param;}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param.deviceId\ \ \ =\ i;}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param.indStart\ \ \ =\ 0;}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param.indEnd\ \ \ \ \ =\ size-\/1;}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param.blocksNum\ \ =\ blocksNum;}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param.threadsNum\ =\ threadsNum;}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ param.dev\_arr\ =\ \mbox{\hyperlink{struct_array_helper_a9c803d53ead4a35b5fe1708880a2bb58}{ArrayHelper::CreateArrayGpu<double>}}(size,\ i);}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}array\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ created\(\backslash\)n"{}};}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}First\ 10\ elements\ of\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ array:\ "{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(param.dev\_arr,\ 0,\ 10,\ i);}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_array_helper_a5b09b15928eea3d6a3b79ac47e856ccb}{ArrayHelper::InitArrayGpu}}(param.dev\_arr,\ size,\ value,\ i);}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}array\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ initialized\(\backslash\)n"{}};}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}First\ 10\ elements\ of\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ array:\ "{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(param.dev\_arr,\ 0,\ 10,\ i);}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ e.what()\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::exit(-\/1);}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ params.push\_back(param);}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ params[i].Print();}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/\ Initializing\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ array\ completed!\(\backslash\)n"{}};}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ sum\ =\ ArrayHelper::SumCudaMultiGpu(params);}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ stop\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ duration\ =\ duration\_cast<microseconds>(stop\ -\/\ start);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ duration.count();}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ArrayRamHelper::SumCudaMultiGpu(...):\ "{}}\ <<\ sum\ <<\ std::endl;}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Expected\ sum:\ "{}}\ <<\ expectedResult\ <<\ std::endl;}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Time,\ mks:\ "{}}\ <<\ t\ <<\ std::endl;}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ e.what()\ <<\ std::endl;\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00319\ \ \ \ \ \}}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_a356eefccfa863e7ba5860176d099e17b}{SumCublas\_ConsoleUI}}()}
\DoxyCodeLine{00323\ \ \ \ \ \{}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}SumCublas(...)\(\backslash\)n"{}};}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Вызов\ функции\ суммирования\ с\ помощью\ Cuda\ на\ нескольких\ GPU}}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ isCudaSupported\ =\ \mbox{\hyperlink{struct_cuda_helper_acfb993fd6f2458328efdd246feedcccd}{CudaHelper::IsCudaSupported}}();}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!isCudaSupported)}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Cuda\ is\ not\ supported!"{}}\ <<\ std::endl;}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ cudaDeviceNumber\ =\ \mbox{\hyperlink{struct_cuda_helper_a98c75205f07b42f7b7b31737bf2861ac}{CudaHelper::GetCudaDeviceNumber}}();}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//cudaDeviceNumber\ =\ 1;}}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ deviceId\ =\ 0;}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}cudaDeviceNumber:\ "{}}\ <<\ cudaDeviceNumber\ <<\ std::endl;}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ \ =\ ConsoleHelper::GetUnsignedLongLongFromUser(\textcolor{stringliteral}{"{}Enter\ array\ size:\ "{}});}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//size\_t\ size\ \ \ =\ 200000000ull;}}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}size:\ "{}}\ <<\ size\ <<\ std::endl;}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//double\ value\ =\ ConsoleHelper::GetDoubleFromUser("{}Enter\ value:\ "{},"{}Error!\ Enter\ double\ value"{});}}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\ \ \ =\ 0.001;}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//int\ blocksNum\ \ =\ ConsoleHelper::GetIntFromUser("{}Enter\ num\ blocks:\ "{});}}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//int\ threadsNum\ =\ ConsoleHelper::GetIntFromUser("{}Enter\ num\ threads:\ "{});\ \ \ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ blocksNum\ \ =\ 34;}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ threadsNum\ =\ 16;}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_array_gpu_processing_params}{ArrayGpuProcessingParams<double>}}\ params;}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \ \ \ \ params.deviceId\ \ \ =\ deviceId;}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ params.indStart\ \ \ =\ 0;}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \ \ \ \ params.indEnd\ \ \ \ \ =\ size-\/1;}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \ \ \ params.blocksNum\ \ =\ blocksNum;}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ params.threadsNum\ =\ threadsNum;}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \ \ \ \ params.dev\_arr\ =\ \mbox{\hyperlink{struct_array_helper_a9c803d53ead4a35b5fe1708880a2bb58}{ArrayHelper::CreateArrayGpu<double>}}(size,\ params.deviceId);}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Array\ on\ device\ "{}}\ <<\ params.deviceId\ <<\ \textcolor{stringliteral}{"{}\ created!\(\backslash\)n"{}};}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}First\ 10\ elements:\ "{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(params.dev\_arr,\ 0,\ 10,\ params.deviceId);}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_array_helper_a5b09b15928eea3d6a3b79ac47e856ccb}{ArrayHelper::InitArrayGpu}}(params.dev\_arr,\ size,\ value,\ params.deviceId);}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}array\ "{}}\ <<\ params.deviceId\ <<\ \textcolor{stringliteral}{"{}\ initialized\(\backslash\)n"{}};}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}First\ 10\ elements\ of\ "{}}\ <<\ params.deviceId\ <<\ \textcolor{stringliteral}{"{}\ array:\ "{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(params.dev\_arr,\ 0,\ 10,\ params.deviceId);}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Initializing\ array\ completed!\(\backslash\)n"{}};}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcublas_handle__t}{cublasHandle\_t}}\ cublasH\ =\ \mbox{\hyperlink{struct_cublas_helper_aee7a2f728f4d914aceba5ba5cd78e512}{CublasHelper::CublasCreate}}();}
\DoxyCodeLine{00368\ }
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ sum\ =\ 0;}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \ \ \ \ sum\ =\ ArrayHelper::SumCublas(cublasH,\ params);}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ stop\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ duration\ =\ duration\_cast<microseconds>(stop\ -\/\ start);}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ duration.count();}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ArrayHelper::SumCuBLAS(...):\ "{}}\ <<\ sum\ <<\ std::endl;}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Expected\ sum:\ "{}}\ <<\ size*value\ <<\ std::endl;}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Time,\ mks:\ "{}}\ <<\ t\ <<\ std::endl;}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ CudaHelper::CudaFree(params.dev\_arr);}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_cublas_helper_aad5321a82d40c0b01dc62dce00224784}{CublasHelper::CublasDestroy}}(cublasH);}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ e.what()\ <<\ std::endl;}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00387\ \ \ \ \ \}}
\DoxyCodeLine{00388\ }
\DoxyCodeLine{00390\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_a64dc78af0666c1bc42fd5c189c1a4a44}{SumCublasMultiGpu\_ConsoleUI}}()}
\DoxyCodeLine{00391\ \ \ \ \ \{}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}SumCublasMultiGpu(std::vector<ArrayGpuProcessingParams<T>>\ params)\(\backslash\)n"{}};}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Вызов\ функции\ суммирования\ с\ помощью\ Cublas\ на\ нескольких\ GPU}}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ cudaDeviceNumber\ =\ \mbox{\hyperlink{struct_cuda_helper_a98c75205f07b42f7b7b31737bf2861ac}{CudaHelper::GetCudaDeviceNumber}}();}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//cudaDeviceNumber\ =\ 1;}}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}cudaDeviceNumber:\ "{}}\ <<\ cudaDeviceNumber\ <<\ std::endl;}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ expectedResult\ =\ 0;}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<cublasHandle\_t>\ cublasHandles;}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<double*>\ dev\_arrays;}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<size\_t>\ indStarts;}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<size\_t>\ indEnds;}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ cudaDeviceNumber;\ i++)}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcublas_handle__t}{cublasHandle\_t}}\ cublasHandle\ =\ \mbox{\hyperlink{struct_cublas_helper_aee7a2f728f4d914aceba5ba5cd78e512}{CublasHelper::CublasCreate}}(i);}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cublasHandles.push\_back(cublasHandle);}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/\ Init\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ array\ starting...\(\backslash\)n"{}};}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//size\_t\ size\ \ \ \ =\ ConsoleHelper::GetUnsignedLongLongFromUser("{}Enter\ array\ size:\ "{});}}
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//double\ value\ \ \ =\ ConsoleHelper::GetDoubleFromUser("{}Enter\ value:\ "{},"{}Error!\ Enter\ double\ value"{});}}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ \ \ \ =\ 500000000ull;}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\ \ \ =\ 0.001;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ expectedResult\ +=\ size*value;}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ dev\_arr\ =\ \mbox{\hyperlink{struct_array_helper_a9c803d53ead4a35b5fe1708880a2bb58}{ArrayHelper::CreateArrayGpu<double>}}(size,\ i);}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}array\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ created\(\backslash\)n"{}};}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}First\ 10\ from\ "{}}\ <<\ size\ <<\textcolor{stringliteral}{"{}\ elements\ of\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ array:\ "{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(dev\_arr,\ 0,\ 10,\ i);}
\DoxyCodeLine{00425\ }
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_array_helper_a5b09b15928eea3d6a3b79ac47e856ccb}{ArrayHelper::InitArrayGpu}}(dev\_arr,\ size,\ value,\ i);}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}array\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ initialized\(\backslash\)n"{}};}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}First\ 10\ from\ "{}}\ <<\ size\ <<\textcolor{stringliteral}{"{}\ elements\ of\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ array:\ "{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(dev\_arr,\ 0,\ 10,\ i);}
\DoxyCodeLine{00430\ }
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/\ Initializing\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ array\ completed!\(\backslash\)n"{}};}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dev\_arrays.push\_back(dev\_arr);}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indStarts.push\_back(0);}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indEnds.push\_back(size-\/1);}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ e.what()\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::exit(-\/1);}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ sum\ =\ ArrayHelper::SumCublasMultiGpu(cublasHandles,}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dev\_arrays,\ indStarts,\ indEnds);}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ stop\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00448\ }
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ duration\ =\ duration\_cast<microseconds>(stop\ -\/\ start);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ duration.count();}
\DoxyCodeLine{00451\ }
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ArrayRamHelper::SumCudaMultiGpu(...):\ "{}}\ <<\ sum\ <<\ std::endl;}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Expected\ sum:\ "{}}\ <<\ expectedResult\ <<\ std::endl;}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Time,\ mks:\ "{}}\ <<\ t\ <<\ std::endl;}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ e.what()\ <<\ std::endl;\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00460\ \ \ \ \ \}}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00462\ }
\DoxyCodeLine{00464\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_ad542253993b0651ce5fe6de9f7c0ea25}{ScalarProductRamSeq\_ConsoleUI}}()}
\DoxyCodeLine{00465\ \ \ \ \ \{}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ScalarProductRamRamSeq\_ConsoleUI\(\backslash\)n"{}};}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ \ \ \ =\ ConsoleHelper::GetUnsignedLongLongFromUser(\textcolor{stringliteral}{"{}Enter\ array\ size:\ "{}});}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\ \ \ =\ ConsoleHelper::GetDoubleFromUser(\textcolor{stringliteral}{"{}Enter\ value:\ "{}},\textcolor{stringliteral}{"{}Error!\ Enter\ double\ value"{}});}
\DoxyCodeLine{00470\ }
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Инициализируем\ массив\ в\ RAM}}
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ arrayRam1\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{double}[size];}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ arrayRam2\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{double}[size];}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ size;\ i++)}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \ \ \ \ arrayRam1[i]\ =\ value;}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \ \ \ \ arrayRam2[i]\ =\ 1/value;}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00479\ }
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ scalarProduct\ =\ ArrayHelper::ScalarProductRamSeq(arrayRam1,\ arrayRam2,\ size);}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ stop\ =\ high\_resolution\_clock::now();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ duration\ =\ duration\_cast<microseconds>(stop\ -\/\ start);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ duration.count();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Time,\ mks:\ "{}}\ <<\ t\ <<\ std::endl;}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}scalarProduct:\ "{}}\ <<\ scalarProduct\ <<\ std::endl;}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ arrayRam1;}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ arrayRam2;}
\DoxyCodeLine{00492\ \ \ \ \ \}}
\DoxyCodeLine{00493\ }
\DoxyCodeLine{00495\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_ab7c1a6bb539f42e8086d7dabe397273c}{ScalarProductRamParThread\_ConsoleUI}}()}
\DoxyCodeLine{00496\ \ \ \ \ \{}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ScalarProductRamRamParThread\_ConsoleUI\(\backslash\)n"{}};}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ \ \ \ =\ ConsoleHelper::GetUnsignedLongLongFromUser(\textcolor{stringliteral}{"{}Enter\ array\ length:\ "{}});}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//double\ value\ \ \ =\ ConsoleHelper::GetDoubleFromUser("{}Enter\ value:\ "{},"{}Error!\ Enter\ double\ value"{});}}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\ \ \ =\ 0.1;}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ threadsNum\ =\ ConsoleHelper::GetUnsignedIntFromUser(\textcolor{stringliteral}{"{}Enter\ number\ of\ threads:\ "{}});}
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00506\ }
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Инициализируем\ массив\ в\ RAM}}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ arrayRam1\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{double}[length];}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ arrayRam2\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{double}[length];}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ length;\ i++)}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ arrayRam1[i]\ =\ value;}
\DoxyCodeLine{00513\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ arrayRam2[i]\ =\ 1/value;}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00515\ }
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ scalarProduct\ =\ ArrayHelper::ScalarProductRamParThread(arrayRam1,\ arrayRam2,\ length,\ threadsNum);}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ stop\ =\ high\_resolution\_clock::now();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ duration\ =\ duration\_cast<microseconds>(stop\ -\/\ start);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ duration.count();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Time,\ mks:\ "{}}\ <<\ t\ <<\ std::endl;}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00524\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}scalarProduct:\ "{}}\ <<\ scalarProduct\ <<\ std::endl;}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ arrayRam1;}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ arrayRam2;}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ e.what()\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00533\ \ \ \ \ \}}
\DoxyCodeLine{00534\ }
\DoxyCodeLine{00535\ \ \ \ \ }
\DoxyCodeLine{00537\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_a66cb88a8bb3efed8f2bad22a821b03e3}{ScalarProductRamParOpenMP\_ConsoleUI}}()}
\DoxyCodeLine{00538\ \ \ \ \ \{}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ScalarProductRamParOpenMP\_ConsoleUI\(\backslash\)n"{}};}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ \ \ \ =\ ConsoleHelper::GetUnsignedLongLongFromUser(\textcolor{stringliteral}{"{}Enter\ array\ length:\ "{}});}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//double\ value\ \ \ =\ ConsoleHelper::GetDoubleFromUser("{}Enter\ value:\ "{},"{}Error!\ Enter\ double\ value"{});}}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\ \ \ =\ 0.1;}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ threadsNum\ =\ ConsoleHelper::GetUnsignedIntFromUser(\textcolor{stringliteral}{"{}Enter\ number\ of\ OpenMP\ threads:\ "{}});}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00548\ }
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Инициализируем\ массив\ в\ RAM}}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ arrayRam1\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{double}[length];}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ arrayRam2\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{double}[length];}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ length;\ i++)}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ arrayRam1[i]\ =\ value;}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ arrayRam2[i]\ =\ 1/value;}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00557\ }
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ scalarProduct\ =\ ArrayHelper::ScalarProductRamParOpenMP(arrayRam1,\ arrayRam2,\ length,\ threadsNum);}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ stop\ =\ high\_resolution\_clock::now();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00562\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ duration\ =\ duration\_cast<microseconds>(stop\ -\/\ start);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ duration.count();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Time,\ mks:\ "{}}\ <<\ t\ <<\ std::endl;}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}scalarProduct:\ "{}}\ <<\ scalarProduct\ <<\ std::endl;}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ arrayRam1;}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ arrayRam2;}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00571\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ e.what()\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00575\ \ \ \ \ \}}
\DoxyCodeLine{00576\ }
\DoxyCodeLine{00577\ }
\DoxyCodeLine{00579\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_a18043647ed31172bd2c036a743edfd11}{ScalarProductRamOpenBlas\_ConsoleUI}}()}
\DoxyCodeLine{00580\ \ \ \ \ \{}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ScalarProductRamOpenBlas\_ConsoleUI\(\backslash\)n"{}};}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00585\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ \ \ \ =\ ConsoleHelper::GetUnsignedLongLongFromUser(\textcolor{stringliteral}{"{}Enter\ array\ length:\ "{}});}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//double\ value\ \ \ =\ ConsoleHelper::GetDoubleFromUser("{}Enter\ value:\ "{},"{}Error!\ Enter\ double\ value"{});}}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\ \ \ =\ 0.1;}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//size\_t\ threadsNum\ =\ ConsoleHelper::GetUnsignedIntFromUser("{}Enter\ number\ of\ OpenMP\ threads:\ "{});}}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00590\ }
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Инициализируем\ массив\ в\ RAM}}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ arrayRam1\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{double}[length];}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ arrayRam2\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{double}[length];}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ length;\ i++)}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ arrayRam1[i]\ =\ value;}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ arrayRam2[i]\ =\ 1/value;}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00599\ }
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)ncblas\_ddot\(\backslash\)n"{}};}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ scalarProduct\ =\ 0;}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00606\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scalarProduct\ =\ ArrayHelper::ScalarProductRamCublas(arrayRam1,\ arrayRam2,\ length);}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00609\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ stop\ =\ high\_resolution\_clock::now();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ duration\ =\ duration\_cast<microseconds>(stop\ -\/\ start);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ duration.count();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00613\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Time,\ mks:\ "{}}\ <<\ t\ <<\ std::endl;}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}scalarProduct:\ "{}}\ <<\ scalarProduct\ <<\ std::endl;}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}\ (\textcolor{keyword}{const}\ std::exception\&\ exc)}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ exc.what()\ <<\ std::endl;}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ arrayRam1;}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ arrayRam2;}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00625\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00626\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ e.what()\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00629\ \ \ \ \ \}}
\DoxyCodeLine{00630\ }
\DoxyCodeLine{00631\ }
\DoxyCodeLine{00632\ }
\DoxyCodeLine{00634\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_a26e1ecba831ea42d18658780865cadf8}{ScalarProductGpuParCuda\_ConsoleUI}}()}
\DoxyCodeLine{00635\ \ \ \ \ \{}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ScalarProductGpuParCuda\_ConsoleUI()\(\backslash\)n"{}};}
\DoxyCodeLine{00637\ }
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!\mbox{\hyperlink{struct_cuda_helper_acfb993fd6f2458328efdd246feedcccd}{CudaHelper::IsCudaSupported}}())}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00640\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}CUDA\ not\ supported!\(\backslash\)n"{}};}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00643\ }
\DoxyCodeLine{00644\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00645\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ =\ ConsoleHelper::GetUnsignedLongLongFromUser(\textcolor{stringliteral}{"{}Enter\ arrays\ length:\ "{}});}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ kernelBlocks\ \ =\ ConsoleHelper::GetUnsignedIntFromUser(\textcolor{stringliteral}{"{}Enter\ number\ of\ CUDA\ blocks:\ "{}});}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ kernelThreads\ =\ ConsoleHelper::GetUnsignedIntFromUser(\textcolor{stringliteral}{"{}Enter\ number\ of\ CUDA\ threads\ in\ block:\ "{}});}
\DoxyCodeLine{00649\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ resFloat\ \ =\ ArrayHelper::ScalarProductGpuParCuda<float>(length,\ kernelBlocks,\ kernelThreads);}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}float:\ "{}};}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \ \ \ \ resFloat.Print();}
\DoxyCodeLine{00653\ }
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ resDouble\ =\ ArrayHelper::ScalarProductGpuParCuda<double>(length,\ kernelBlocks,\ kernelThreads);}
\DoxyCodeLine{00655\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}double:\ "{}};}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \ \ \ \ \ \ resDouble.Print();}
\DoxyCodeLine{00657\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00659\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ e.what()\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00663\ \ \ \ \ \}}
\DoxyCodeLine{00664\ }
\DoxyCodeLine{00666\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_a1c7a792d98f5ad595f2529a1397c786a}{ScalarProductMultiGpuParCuda\_ConsoleUI}}()}
\DoxyCodeLine{00667\ \ \ \ \ \{}
\DoxyCodeLine{00668\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ScalarProductMultiGpuParCuda\_ConsoleUI()\(\backslash\)n"{}};}
\DoxyCodeLine{00669\ }
\DoxyCodeLine{00670\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!\mbox{\hyperlink{struct_cuda_helper_acfb993fd6f2458328efdd246feedcccd}{CudaHelper::IsCudaSupported}}())}
\DoxyCodeLine{00671\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00672\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}CUDA\ not\ supported!\(\backslash\)n"{}};}
\DoxyCodeLine{00673\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00674\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00675\ }
\DoxyCodeLine{00676\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00677\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00678\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ =\ ConsoleHelper::GetUnsignedLongLongFromUser(\textcolor{stringliteral}{"{}Enter\ arrays\ length:\ "{}});}
\DoxyCodeLine{00679\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ kernelBlocks\ \ =\ ConsoleHelper::GetUnsignedIntFromUser(\textcolor{stringliteral}{"{}Enter\ number\ of\ CUDA\ blocks:\ "{}});}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ kernelThreads\ =\ ConsoleHelper::GetUnsignedIntFromUser(\textcolor{stringliteral}{"{}Enter\ number\ of\ CUDA\ threads\ in\ block:\ "{}});}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ cudaDeviceNumber\ =\ \mbox{\hyperlink{struct_cuda_helper_a98c75205f07b42f7b7b31737bf2861ac}{CudaHelper::GetCudaDeviceNumber}}();}
\DoxyCodeLine{00682\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00683\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<double>\ kGpuData;\textcolor{comment}{//\ Коэффициент\ распределения\ данных\ между\ GPU}}
\DoxyCodeLine{00684\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ kGpuDistrubution\ =\ 1.0;}
\DoxyCodeLine{00685\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ cudaDeviceNumber;\ i++)}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00687\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ msg\ =\ \textcolor{stringliteral}{"{}Enter\ k\ GPU\ "{}}\ +\ std::to\_string(i);}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ +=\ \textcolor{stringliteral}{"{}\ ["{}};}
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ +=\ \mbox{\hyperlink{struct_cuda_helper_a6bfc2ab0ec60564d736193e1f984a1af}{CudaHelper::GetCudaDeviceName}}(i);}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ +=\ \textcolor{stringliteral}{"{}]"{}};}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ +=\ \textcolor{stringliteral}{"{}(0.."{}}\ +\ std::to\_string(kGpuDistrubution)\ +\ \textcolor{stringliteral}{"{}):\ "{}};}
\DoxyCodeLine{00692\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ kGpu\ =\ ConsoleHelper::GetDoubleFromUser(msg);}
\DoxyCodeLine{00693\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(kGpu<0)}
\DoxyCodeLine{00694\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ kGpu\ =\ 0;}
\DoxyCodeLine{00695\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(kGpu>kGpuDistrubution)}
\DoxyCodeLine{00696\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ kGpu=kGpuDistrubution;}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ kGpuDistrubution\ -\/=\ kGpu;}
\DoxyCodeLine{00698\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ kGpuData.push\_back(kGpu);}
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Accepted:\ "{}}\ <<\ kGpu\ <<\ \textcolor{stringliteral}{"{};\ "{}};}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Remain:\ "{}}\ <<\ kGpuDistrubution\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00702\ }
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ resFloat\ \ =\ ArrayHelper::ScalarProductMultiGpuParCuda<float>(length,\ kernelBlocks,\ kernelThreads,\ kGpuData);}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}float:\ "{}};}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \ \ \ \ resFloat.Print();}
\DoxyCodeLine{00706\ }
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ resDouble\ =\ ArrayHelper::ScalarProductMultiGpuParCuda<double>(length,\ kernelBlocks,\ kernelThreads,\ kGpuData);}
\DoxyCodeLine{00708\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}double:\ "{}};}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ \ \ \ \ resDouble.Print();}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ e.what()\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00716\ \ \ \ \ \}}
\DoxyCodeLine{00717\ }
\DoxyCodeLine{00719\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_a184cea93522c84ad80028c48dd9adad5}{ScalarProductGpuCublas\_ConsoleUI}}()}
\DoxyCodeLine{00720\ \ \ \ \ \{}
\DoxyCodeLine{00721\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ScalarProductGpuCublas\_ConsoleUI()\(\backslash\)n"{}};}
\DoxyCodeLine{00722\ }
\DoxyCodeLine{00723\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!\mbox{\hyperlink{struct_cuda_helper_acfb993fd6f2458328efdd246feedcccd}{CudaHelper::IsCudaSupported}}())}
\DoxyCodeLine{00724\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00725\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}CUDA\ not\ supported!\(\backslash\)n"{}};}
\DoxyCodeLine{00726\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00727\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00728\ }
\DoxyCodeLine{00729\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00730\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00731\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ =\ ConsoleHelper::GetUnsignedLongLongFromUser(\textcolor{stringliteral}{"{}Enter\ arrays\ length:\ "{}});}
\DoxyCodeLine{00732\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00733\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ resFloat\ \ =\ ArrayHelper::ScalarProductGpuCublas<float>(length);}
\DoxyCodeLine{00734\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}float:\ "{}};}
\DoxyCodeLine{00735\ \ \ \ \ \ \ \ \ \ \ \ \ resFloat.Print();}
\DoxyCodeLine{00736\ }
\DoxyCodeLine{00737\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ resDouble\ =\ ArrayHelper::ScalarProductGpuCublas<double>(length);}
\DoxyCodeLine{00738\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}double:\ "{}};}
\DoxyCodeLine{00739\ \ \ \ \ \ \ \ \ \ \ \ \ resDouble.Print();}
\DoxyCodeLine{00740\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00741\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00742\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00743\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ e.what()\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{00744\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00746\ \ \ \ \ \}}
\DoxyCodeLine{00747\ }
\DoxyCodeLine{00749\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_array_helper___console_u_i_a2ace99dfb61a635a1258f9b10bd8c2d7}{ScalarProductMultiGpuCublas\_ConsoleUI}}()}
\DoxyCodeLine{00750\ \ \ \ \ \{}
\DoxyCodeLine{00751\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ScalarProductMultiGpuCublas\_ConsoleUI()\(\backslash\)n"{}};}
\DoxyCodeLine{00752\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00753\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00754\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ cudaDeviceNumber\ =\ \mbox{\hyperlink{struct_cuda_helper_a98c75205f07b42f7b7b31737bf2861ac}{CudaHelper::GetCudaDeviceNumber}}();}
\DoxyCodeLine{00756\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//cudaDeviceNumber\ =\ 1;}}
\DoxyCodeLine{00757\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}cudaDeviceNumber:\ "{}}\ <<\ cudaDeviceNumber\ <<\ std::endl;}
\DoxyCodeLine{00758\ }
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(cudaDeviceNumber\ <\ 2)}
\DoxyCodeLine{00760\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00761\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}GPU\ number\ must\ be\ greater\ 2!\(\backslash\)n"{}};}
\DoxyCodeLine{00762\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00763\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00764\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00765\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<cublasHandle\_t>\ cublasHandles;}
\DoxyCodeLine{00766\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<double*>\ dev\_arrays\_1;}
\DoxyCodeLine{00767\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<double*>\ dev\_arrays\_2;}
\DoxyCodeLine{00768\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<size\_t>\ dev\_arrays\_lengths;}
\DoxyCodeLine{00769\ }
\DoxyCodeLine{00770\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length\ =\ ConsoleHelper::GetUnsignedLongLongFromUser(\textcolor{stringliteral}{"{}Enter\ arrays\ length:\ "{}});}
\DoxyCodeLine{00771\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ expectedResult\ =\ length;}
\DoxyCodeLine{00772\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\_1\ =\ 0.001;}
\DoxyCodeLine{00773\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\_2\ =\ 1/value\_1;}
\DoxyCodeLine{00774\ }
\DoxyCodeLine{00775\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ cudaDeviceNumber;\ i++)}
\DoxyCodeLine{00776\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00777\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcublas_handle__t}{cublasHandle\_t}}\ cublasHandle\ =\ \mbox{\hyperlink{struct_cublas_helper_aee7a2f728f4d914aceba5ba5cd78e512}{CublasHelper::CublasCreate}}(i);}
\DoxyCodeLine{00778\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cublasHandles.push\_back(cublasHandle);}
\DoxyCodeLine{00779\ }
\DoxyCodeLine{00780\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/\ Init\ data\ on\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ -\/-\/-\/\(\backslash\)n"{}};}
\DoxyCodeLine{00781\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ kGpu\ \ \ \ =\ ConsoleHelper::GetDoubleFromUser(\textcolor{stringliteral}{"{}Enter\ kGpu\ (0...1):\ "{}},\textcolor{stringliteral}{"{}Error!\ Enter\ double\ value"{}});}
\DoxyCodeLine{00782\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ \ \ \ =\ length\ *\ kGpu;}
\DoxyCodeLine{00783\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(i==cudaDeviceNumber-\/1)}
\DoxyCodeLine{00784\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ size\ =\ length\ -\/\ length\ *\ kGpu\ *\ i;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00785\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00786\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00787\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00788\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ dev\_arr\_1\ =\ \mbox{\hyperlink{struct_array_helper_a9c803d53ead4a35b5fe1708880a2bb58}{ArrayHelper::CreateArrayGpu<double>}}(size,\ i);}
\DoxyCodeLine{00789\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}array\ 1\ on\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ created\(\backslash\)n"{}};}
\DoxyCodeLine{00790\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}First\ 10\ from\ "{}}\ <<\ size\ <<\textcolor{stringliteral}{"{}\ elements\ of\ array\ 1\ on\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}:\ "{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(dev\_arr\_1,\ 0,\ 10,\ i);}
\DoxyCodeLine{00792\ }
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_array_helper_a5b09b15928eea3d6a3b79ac47e856ccb}{ArrayHelper::InitArrayGpu}}(dev\_arr\_1,\ size,\ value\_1,\ i);}
\DoxyCodeLine{00794\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}array\ 1\ on\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ initialized\(\backslash\)n"{}};}
\DoxyCodeLine{00795\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}First\ 10\ from\ "{}}\ <<\ size\ <<\textcolor{stringliteral}{"{}\ elements\ of\ array\ 2\ on\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}:\ "{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00796\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(dev\_arr\_1,\ 0,\ 10,\ i);}
\DoxyCodeLine{00797\ }
\DoxyCodeLine{00798\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/\ Initializing\ array\ 1\ on\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ completed!\(\backslash\)n"{}};}
\DoxyCodeLine{00799\ }
\DoxyCodeLine{00800\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dev\_arrays\_1.push\_back(dev\_arr\_1);}
\DoxyCodeLine{00801\ }
\DoxyCodeLine{00802\ }
\DoxyCodeLine{00803\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ dev\_arr\_2\ =\ \mbox{\hyperlink{struct_array_helper_a9c803d53ead4a35b5fe1708880a2bb58}{ArrayHelper::CreateArrayGpu<double>}}(size,\ i);}
\DoxyCodeLine{00804\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}array\ 2\ on\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ created\(\backslash\)n"{}};}
\DoxyCodeLine{00805\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}First\ 10\ from\ "{}}\ <<\ size\ <<\textcolor{stringliteral}{"{}\ elements\ of\ array\ 2\ on\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}:\ "{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00806\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(dev\_arr\_2,\ 0,\ 10,\ i);}
\DoxyCodeLine{00807\ }
\DoxyCodeLine{00808\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_array_helper_a5b09b15928eea3d6a3b79ac47e856ccb}{ArrayHelper::InitArrayGpu}}(dev\_arr\_2,\ size,\ value\_2,\ i);}
\DoxyCodeLine{00809\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}array\ 1\ on\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ initialized\(\backslash\)n"{}};}
\DoxyCodeLine{00810\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}First\ 10\ from\ "{}}\ <<\ size\ <<\textcolor{stringliteral}{"{}\ elements\ of\ array\ 2\ on\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}:\ "{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00811\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ArrayHelper::PrintArrayGpu(dev\_arr\_2,\ 0,\ 10,\ i);}
\DoxyCodeLine{00812\ }
\DoxyCodeLine{00813\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/\ Initializing\ array\ 2\ on\ GPU\ "{}}\ <<\ i\ <<\ \textcolor{stringliteral}{"{}\ completed!\(\backslash\)n"{}};}
\DoxyCodeLine{00814\ }
\DoxyCodeLine{00815\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dev\_arrays\_2.push\_back(dev\_arr\_2);}
\DoxyCodeLine{00816\ }
\DoxyCodeLine{00817\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00818\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dev\_arrays\_lengths.push\_back(size);}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00821\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00822\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ e.what()\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{00823\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::exit(-\/1);}
\DoxyCodeLine{00824\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00825\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00826\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00827\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00828\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ scalarProduct\ =\ ArrayHelper::ScalarProductMultiGpuCublas(cublasHandles,}
\DoxyCodeLine{00829\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dev\_arrays\_1,\ dev\_arrays\_2,\ dev\_arrays\_lengths);}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ stop\ =\ high\_resolution\_clock::now();}
\DoxyCodeLine{00831\ }
\DoxyCodeLine{00832\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ duration\ =\ duration\_cast<microseconds>(stop\ -\/\ start);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00833\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ duration.count();}
\DoxyCodeLine{00834\ }
\DoxyCodeLine{00835\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ArrayRamHelper::ScalarProductMultiGpuCublas(...):\ "{}}\ <<\ scalarProduct\ <<\ std::endl;}
\DoxyCodeLine{00836\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Expected\ scalarProduct:\ "{}}\ <<\ expectedResult\ <<\ std::endl;}
\DoxyCodeLine{00837\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Time,\ mks:\ "{}}\ <<\ t\ <<\ std::endl;}
\DoxyCodeLine{00838\ }
\DoxyCodeLine{00839\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Освобождение\ ресурсов}}
\DoxyCodeLine{00840\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ dev\_arrays\_1.size();\ i++)}
\DoxyCodeLine{00841\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00842\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_array_helper_a2f219e8f2f35ddb44b675ba637caba75}{ArrayHelper::DeleteArrayGpu}}(dev\_arrays\_1[i],\ i);}
\DoxyCodeLine{00843\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_array_helper_a2f219e8f2f35ddb44b675ba637caba75}{ArrayHelper::DeleteArrayGpu}}(dev\_arrays\_2[i],\ i);}
\DoxyCodeLine{00844\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00845\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00846\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_cublas_helper_aad5321a82d40c0b01dc62dce00224784}{CublasHelper::CublasDestroy}}(cublasHandles);}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00848\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ std::exception\&\ e)}
\DoxyCodeLine{00849\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00850\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ e.what()\ <<\ std::endl;\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00851\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00852\ \ \ \ \ \}}
\DoxyCodeLine{00853\ }
\DoxyCodeLine{00854\ }
\DoxyCodeLine{00855\ \};}
\DoxyCodeLine{00856\ }

\end{DoxyCode}
